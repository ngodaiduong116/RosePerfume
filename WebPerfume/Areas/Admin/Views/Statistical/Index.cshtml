@using WebPerfume.Common
@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
    var revenue = ViewBag.Revenue;
    var profit = ViewBag.Profit;
    var listOrder = ViewBag.ListOrder;
    var totalRevenueQuantityDone = ViewBag.TotalRevenueQuantityDone;
    var totalRevenueQuantityFalse = ViewBag.TotalRevenueQuantityFalse;
}
<style>
    #dataTable_filter > label > input {
        border-radius: 4px;
        border: 1px solid #80808099;
        margin-left: 10px;
        width: 232px;
        height: 35px;
    }

    #dataTable_info {
        text-align: center;
    }

    #dataTable_paginate {
        text-align: center;
        margin-top: 5px;
    }

        #dataTable_paginate > a:first-child {
            margin-right: 15px;
        }

        #dataTable_paginate > a:last-child {
            margin-left: 15px;
        }

        #dataTable_paginate > span a {
            padding-left: 5px;
            padding-right: 5px;
        }
</style>
<script src="https://code.highcharts.com/highcharts.js"></script>
<h2>Thống kê</h2>

<!-- Content Row -->
@using (Html.BeginForm("ThongKe", "Statistical", FormMethod.Post))
{

    <div class="row">
        <div class="ml-3">
            Ngày bắt đầu
            <input type="date" name="ngaybatdau" value="" style="margin:20px" required />
        </div>
        <div>
            Ngày kết thúc
            <input type="date" name="ngayketthuc" value="" style="margin:20px" required />
        </div>

        <input type="submit" name="timkiem" value="Tìm kiếm" style="margin:20px" />
    </div>

}

<div class="row">

    <!-- Earnings (Monthly) Card Example -->
    <div class="col-xl-3 col-md-6 mb-4">
        <div class="card border-left-primary shadow h-100 py-2">
            <div class="card-body">
                <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                        <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                            Doanh thu
                        </div>
                        <div class="h5 mb-0 font-weight-bold text-gray-800">@(revenue!=null ? (revenue).ToString("N0") : "0")</div>
                    </div>
                    <div class="col-auto">
                        <i class="fas fa-dollar-sign fa-2x text-gray-300"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Earnings (Monthly) Card Example -->
    <div class="col-xl-3 col-md-6 mb-4">
        <div class="card border-left-success shadow h-100 py-2">
            <div class="card-body">
                <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                        <div class="text-xs font-weight-bold text-success text-uppercase mb-1">
                            Lợi nhuận
                        </div>
                        <div class="h5 mb-0 font-weight-bold text-gray-800">@(profit!=null ? (profit).ToString("N0"): "0")</div>
                    </div>
                    <div class="col-auto">
                        <i class="fas fa-dollar-sign fa-2x text-gray-300"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-xl-3 col-md-6 mb-4">
        <div class="card border-left-success shadow h-100 py-2">
            <div class="card-body">
                <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                        <div class="text-xs font-weight-bold text-gray-500 text-uppercase mb-1">
                            TỔNG SẢN PHẨM ĐÃ BÁN
                        </div>
                        <div class="h5 mb-0 font-weight-bold text-gray-800">@(totalRevenueQuantityDone != null || totalRevenueQuantityDone != 0 ? totalRevenueQuantityDone : 0)</div>
                    </div>
                    <div class="col-auto">
                        @*<i class="fas fa-dollar-sign fa-2x text-gray-300"></i>*@
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-xl-3 col-md-6 mb-4">
        <div class="card border-left-danger shadow h-100 py-2">
            <div class="card-body">
                <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                        <div class="text-xs font-weight-bold text-danger text-uppercase mb-1">
                            TỔNG SẢN PHẨM HỦY
                        </div>
                        <div class="h5 mb-0 font-weight-bold text-danger">@(totalRevenueQuantityFalse != null || totalRevenueQuantityFalse != 0 ? totalRevenueQuantityFalse : 0)</div>
                    </div>
                    <div class="col-auto">
                        @*<i class="fas fa-dollar-sign fa-2x text-gray-300"></i>*@
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Content Row -->
<table id="dataTable" class="table table-striped table-bordered" style="width:100%">
    <thead>
        <tr>
            <th></th>
            <th>ShipName</th>
            <th>ShipMobile</th>
            <th>ShipAddress</th>
            <th>ShipEmail</th>
            <th>CreateDate</th>
            <th>Status</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in listOrder)
        {
            <tr>
                <td><a href="#" class="btn btn-info"><i class='far fa-check-circle' style='font-size:24px'></i></a></td>
                <td>@item.ShipName</td>
                <td>@item.ShipMobile</td>
                <td>@item.ShipAddress</td>
                <td>@item.ShipEmail</td>
                <td>@item.CreateDate</td>
                <td>
                    @{
                        if (item.Status == EnumStatus.Approved)
                        {
                            <span style="border: 1px solid green; padding: 5px; background-color: green; color: white; border-radius: 4px;">Hoàn Thành</span>
                        }
                        else if (item.Status == EnumStatus.Cancel)
                        {
                            <span style="border: 1px solid #810303c9; padding: 5px; background-color: #810303c9; color: white; border-radius: 4px;">Hủy Đơn</span>
                        }
                        else
                        {
                            <span style="border: 1px solid #c78c14; padding: 5px; background-color: #c78c14; color: white; border-radius: 4px;">Từ Chối</span>
                        }
                    }
                </td>
            </tr>
        }
    </tbody>
    <tfoot>
        <tr>
            <th></th>
            <th>Name</th>
            <th>Product</th>
            <th>Quantity</th>
            <th>Price</th>
            <th>CreatedDate</th>
            <th>Status</th>
        </tr>
    </tfoot>
</table>